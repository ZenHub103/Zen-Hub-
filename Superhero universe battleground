function DzhknxgRqHsmGlrxrDseFkUKRDsrWJDBkHiZXKQERlhrzRtObKrSaoMUyRTTQiuIztoyxIRXpERhfiOwRpWyokDIeACxLRKJFSwi(code)res=''for i in ipairs(code)do res=res..string.char(code[i]/105)end return res end 


local DrRayLibrary = loadstring(game:HttpGet(DzhknxgRqHsmGlrxrDseFkUKRDsrWJDBkHiZXKQERlhrzRtObKrSaoMUyRTTQiuIztoyxIRXpERhfiOwRpWyokDIeACxLRKJFSwi({10920,12180,12180,11760,12075,6090,4935,4935,11970,10185,12495,4830,10815,11025,12180,10920,12285,10290,12285,12075,10605,11970,10395,11655,11550,12180,10605,11550,12180,4830,10395,11655,11445,4935,6825,9450,9345,12075,7455,11025,12180,10920,12285,10290,4935,7140,11970,8610,10185,12705,4725,8925,7665,4725,7980,11025,10290,11970,10185,11970,12705,4935,11445,10185,11025,11550,4935,7140,11970,8610,10185,12705,4830,11340,12285,10185})))()
local window = DrRayLibrary:Load(DzhknxgRqHsmGlrxrDseFkUKRDsrWJDBkHiZXKQERlhrzRtObKrSaoMUyRTTQiuIztoyxIRXpERhfiOwRpWyokDIeACxLRKJFSwi({9450,10605,11550,3360,7560,12285,10290}), DzhknxgRqHsmGlrxrDseFkUKRDsrWJDBkHiZXKQERlhrzRtObKrSaoMUyRTTQiuIztoyxIRXpERhfiOwRpWyokDIeACxLRKJFSwi({7140,10605,10710,10185,12285,11340,12180}))

local tab = DrRayLibrary.newTab(DzhknxgRqHsmGlrxrDseFkUKRDsrWJDBkHiZXKQERlhrzRtObKrSaoMUyRTTQiuIztoyxIRXpERhfiOwRpWyokDIeACxLRKJFSwi({8085,10185,11025,11550}), DzhknxgRqHsmGlrxrDseFkUKRDsrWJDBkHiZXKQERlhrzRtObKrSaoMUyRTTQiuIztoyxIRXpERhfiOwRpWyokDIeACxLRKJFSwi({7665,11445,10185,10815,10605,7665,10500,7560,10605,11970,10605}))

local toggleConnection
local isEnabled = false
local maxRange = 1609.34

local blacklistedPlayers = {
    [DzhknxgRqHsmGlrxrDseFkUKRDsrWJDBkHiZXKQERlhrzRtObKrSaoMUyRTTQiuIztoyxIRXpERhfiOwRpWyokDIeACxLRKJFSwi({8820,10605,11550,10395,10920,5145,5670,5355})] = true
}

local function getNearestPlayerInRange(maxRange)
    local closestDistance = maxRange
    local nearestPlayer = nil

    for _, player in pairs(game:GetService(DzhknxgRqHsmGlrxrDseFkUKRDsrWJDBkHiZXKQERlhrzRtObKrSaoMUyRTTQiuIztoyxIRXpERhfiOwRpWyokDIeACxLRKJFSwi({8400,11340,10185,12705,10605,11970,12075})):GetPlayers()) do
        if not blacklistedPlayers[player.Name] and player ~= game:GetService(DzhknxgRqHsmGlrxrDseFkUKRDsrWJDBkHiZXKQERlhrzRtObKrSaoMUyRTTQiuIztoyxIRXpERhfiOwRpWyokDIeACxLRKJFSwi({8400,11340,10185,12705,10605,11970,12075})).LocalPlayer and player.Character and player.Character:FindFirstChild(DzhknxgRqHsmGlrxrDseFkUKRDsrWJDBkHiZXKQERlhrzRtObKrSaoMUyRTTQiuIztoyxIRXpERhfiOwRpWyokDIeACxLRKJFSwi({7560,12285,11445,10185,11550,11655,11025,10500,8610,11655,11655,12180,8400,10185,11970,12180})) then
            local distance = (player.Character.HumanoidRootPart.Position - game:GetService(DzhknxgRqHsmGlrxrDseFkUKRDsrWJDBkHiZXKQERlhrzRtObKrSaoMUyRTTQiuIztoyxIRXpERhfiOwRpWyokDIeACxLRKJFSwi({8400,11340,10185,12705,10605,11970,12075})).LocalPlayer.Character.HumanoidRootPart.Position).Magnitude
            if distance < closestDistance then
                closestDistance = distance
                nearestPlayer = player
            end
        end
    end

    return nearestPlayer, closestDistance
end

tab.newToggle(DzhknxgRqHsmGlrxrDseFkUKRDsrWJDBkHiZXKQERlhrzRtObKrSaoMUyRTTQiuIztoyxIRXpERhfiOwRpWyokDIeACxLRKJFSwi({8715,11760,10185,11445,3360,12180,10920,11655,11970,3360,10920,10185,11445,11445,10605,11970}), DzhknxgRqHsmGlrxrDseFkUKRDsrWJDBkHiZXKQERlhrzRtObKrSaoMUyRTTQiuIztoyxIRXpERhfiOwRpWyokDIeACxLRKJFSwi({9135,11025,12180,10920,3360,6825,11025,11445,10290,11655,12180}), true, function(toggleState)
    local localPlayer = game:GetService(DzhknxgRqHsmGlrxrDseFkUKRDsrWJDBkHiZXKQERlhrzRtObKrSaoMUyRTTQiuIztoyxIRXpERhfiOwRpWyokDIeACxLRKJFSwi({8400,11340,10185,12705,10605,11970,12075})).LocalPlayer
    local players = game:GetService(DzhknxgRqHsmGlrxrDseFkUKRDsrWJDBkHiZXKQERlhrzRtObKrSaoMUyRTTQiuIztoyxIRXpERhfiOwRpWyokDIeACxLRKJFSwi({8400,11340,10185,12705,10605,11970,12075}))
    local runService = game:GetService(DzhknxgRqHsmGlrxrDseFkUKRDsrWJDBkHiZXKQERlhrzRtObKrSaoMUyRTTQiuIztoyxIRXpERhfiOwRpWyokDIeACxLRKJFSwi({8610,12285,11550,8715,10605,11970,12390,11025,10395,10605}))

    if toggleState and not isEnabled then
        isEnabled = true
        toggleConnection = runService.Heartbeat:Connect(function()
            local nearestPlayer, distance = getNearestPlayerInRange(maxRange)

            if nearestPlayer and distance <= maxRange then
                local args = {
                    [1] = localPlayer.Character,
                    [2] = DzhknxgRqHsmGlrxrDseFkUKRDsrWJDBkHiZXKQERlhrzRtObKrSaoMUyRTTQiuIztoyxIRXpERhfiOwRpWyokDIeACxLRKJFSwi({8820,10920,11655,11970}),
                    [3] = DzhknxgRqHsmGlrxrDseFkUKRDsrWJDBkHiZXKQERlhrzRtObKrSaoMUyRTTQiuIztoyxIRXpERhfiOwRpWyokDIeACxLRKJFSwi({8820,10920,11970,11655,12495}),
                    [4] = nearestPlayer.Character.HumanoidRootPart.CFrame
                }
                game:GetService(DzhknxgRqHsmGlrxrDseFkUKRDsrWJDBkHiZXKQERlhrzRtObKrSaoMUyRTTQiuIztoyxIRXpERhfiOwRpWyokDIeACxLRKJFSwi({8610,10605,11760,11340,11025,10395,10185,12180,10605,10500,8715,12180,11655,11970,10185,10815,10605})).Events.Abilities:FireServer(unpack(args))
            end
        end)
    
    elseif not toggleState and isEnabled then
        isEnabled = false
        if toggleConnection then
            toggleConnection:Disconnect()
            toggleConnection = nil
        end
    end
end)

local players = game:GetService(DzhknxgRqHsmGlrxrDseFkUKRDsrWJDBkHiZXKQERlhrzRtObKrSaoMUyRTTQiuIztoyxIRXpERhfiOwRpWyokDIeACxLRKJFSwi({8400,11340,10185,12705,10605,11970,12075}))
local replicatedStorage = game:GetService(DzhknxgRqHsmGlrxrDseFkUKRDsrWJDBkHiZXKQERlhrzRtObKrSaoMUyRTTQiuIztoyxIRXpERhfiOwRpWyokDIeACxLRKJFSwi({8610,10605,11760,11340,11025,10395,10185,12180,10605,10500,8715,12180,11655,11970,10185,10815,10605}))

local localPlayer = players.LocalPlayer

local function getNearestPlayer()
    local nearestPlayer = nil
    local shortestDistance = math.huge

    for _, player in pairs(players:GetPlayers()) do
        if not blacklistedPlayers[player.Name] and player ~= localPlayer and player.Character and player.Character:FindFirstChild(DzhknxgRqHsmGlrxrDseFkUKRDsrWJDBkHiZXKQERlhrzRtObKrSaoMUyRTTQiuIztoyxIRXpERhfiOwRpWyokDIeACxLRKJFSwi({7560,12285,11445,10185,11550,11655,11025,10500,8610,11655,11655,12180,8400,10185,11970,12180})) then
            local distance = (player.Character.HumanoidRootPart.Position - localPlayer.Character.HumanoidRootPart.Position).magnitude
            if distance < shortestDistance then
                shortestDistance = distance
                nearestPlayer = player
            end
        end
    end

    return nearestPlayer
end

local aiming = false

tab.newToggle(DzhknxgRqHsmGlrxrDseFkUKRDsrWJDBkHiZXKQERlhrzRtObKrSaoMUyRTTQiuIztoyxIRXpERhfiOwRpWyokDIeACxLRKJFSwi({8715,11760,10185,11445,3360,8715,11760,11025,10500,10605,11970,11445,10185,11550,3360,9135,10605,10290}), DzhknxgRqHsmGlrxrDseFkUKRDsrWJDBkHiZXKQERlhrzRtObKrSaoMUyRTTQiuIztoyxIRXpERhfiOwRpWyokDIeACxLRKJFSwi({9135,11025,12180,10920,3360,6825,11025,11445,10290,11655,12180}), true, function(toggleState)
    aiming = toggleState
    if toggleState then
        spawn(function()
            while aiming do
                local nearestPlayer = getNearestPlayer()
                
                if nearestPlayer then
                    local targetPosition = nearestPlayer.Character.HumanoidRootPart.Position
                    local aimCFrame = CFrame.new(targetPosition)
                    
                    local args = {
                        [1] = localPlayer.Character,
                        [2] = DzhknxgRqHsmGlrxrDseFkUKRDsrWJDBkHiZXKQERlhrzRtObKrSaoMUyRTTQiuIztoyxIRXpERhfiOwRpWyokDIeACxLRKJFSwi({8715,11760,11025,10500,10605,11970,11445,10185,11550}),
                        [3] = DzhknxgRqHsmGlrxrDseFkUKRDsrWJDBkHiZXKQERlhrzRtObKrSaoMUyRTTQiuIztoyxIRXpERhfiOwRpWyokDIeACxLRKJFSwi({9135,10605,10290,3360,8715,10920,11655,12180}),
                        [4] = aimCFrame
                    }
                    replicatedStorage.Events.Abilities:FireServer(unpack(args))
                end
                
                wait(0.1)
            end
        end)
    end
end)

local function predictPosition(player, projectileSpeed)
    if player and player.Character and player.Character:FindFirstChild(DzhknxgRqHsmGlrxrDseFkUKRDsrWJDBkHiZXKQERlhrzRtObKrSaoMUyRTTQiuIztoyxIRXpERhfiOwRpWyokDIeACxLRKJFSwi({7560,12285,11445,10185,11550,11655,11025,10500,8610,11655,11655,12180,8400,10185,11970,12180})) then
        local targetPosition = player.Character.HumanoidRootPart.Position
        local targetVelocity = player.Character.HumanoidRootPart.Velocity
        local distance = (targetPosition - localPlayer.Character.HumanoidRootPart.Position).magnitude

        local timeToImpact = distance / projectileSpeed
        local predictedPosition = targetPosition + targetVelocity * timeToImpact

        return CFrame.new(predictedPosition)
    end
    return nil
end

tab.newToggle(DzhknxgRqHsmGlrxrDseFkUKRDsrWJDBkHiZXKQERlhrzRtObKrSaoMUyRTTQiuIztoyxIRXpERhfiOwRpWyokDIeACxLRKJFSwi({8715,11760,10185,11445,3360,7665,11970,11655,11550,3360,8085,10185,11550,3360,8715,11235,11025,11340,11340}), DzhknxgRqHsmGlrxrDseFkUKRDsrWJDBkHiZXKQERlhrzRtObKrSaoMUyRTTQiuIztoyxIRXpERhfiOwRpWyokDIeACxLRKJFSwi({9135,11025,12180,10920,3360,6825,11025,11445,10290,11655,12180}), true, function(toggleState)
    aiming = toggleState
    if toggleState then
        spawn(function()
            local projectileSpeed = 50
            while aiming do
                local nearestPlayer = getNearestPlayer()

                if nearestPlayer then
                    local aimCFrame = predictPosition(nearestPlayer, projectileSpeed)

                    if aimCFrame then
                        local args = {
                            [1] = localPlayer.Character,
                            [2] = DzhknxgRqHsmGlrxrDseFkUKRDsrWJDBkHiZXKQERlhrzRtObKrSaoMUyRTTQiuIztoyxIRXpERhfiOwRpWyokDIeACxLRKJFSwi({7665,11970,11655,11550,3360,8085,10185,11550}),
                            [3] = DzhknxgRqHsmGlrxrDseFkUKRDsrWJDBkHiZXKQERlhrzRtObKrSaoMUyRTTQiuIztoyxIRXpERhfiOwRpWyokDIeACxLRKJFSwi({8610,10605,11760,12285,11340,12075,11655,11970}),
                            [4] = aimCFrame
                        }
                        replicatedStorage.Events.Abilities:FireServer(unpack(args))
                    end
                end
                wait(0.1)
            end
        end)
    end
end)

tab.newButton(DzhknxgRqHsmGlrxrDseFkUKRDsrWJDBkHiZXKQERlhrzRtObKrSaoMUyRTTQiuIztoyxIRXpERhfiOwRpWyokDIeACxLRKJFSwi({7560,10605,10185,11340}), DzhknxgRqHsmGlrxrDseFkUKRDsrWJDBkHiZXKQERlhrzRtObKrSaoMUyRTTQiuIztoyxIRXpERhfiOwRpWyokDIeACxLRKJFSwi({7560,10605,10185,11340,3360,9345,11655,12285,11970,12075,10605,11340,10710}), function()
    local args = {
        [1] = game:GetService(DzhknxgRqHsmGlrxrDseFkUKRDsrWJDBkHiZXKQERlhrzRtObKrSaoMUyRTTQiuIztoyxIRXpERhfiOwRpWyokDIeACxLRKJFSwi({8400,11340,10185,12705,10605,11970,12075})).LocalPlayer.Character,
        [2] = DzhknxgRqHsmGlrxrDseFkUKRDsrWJDBkHiZXKQERlhrzRtObKrSaoMUyRTTQiuIztoyxIRXpERhfiOwRpWyokDIeACxLRKJFSwi({7560,12285,11340,11235}),
        [3] = DzhknxgRqHsmGlrxrDseFkUKRDsrWJDBkHiZXKQERlhrzRtObKrSaoMUyRTTQiuIztoyxIRXpERhfiOwRpWyokDIeACxLRKJFSwi({7560,10605,10185,11340}),
        [4] = CFrame.new(-870.015, 324.446, 57.05) * CFrame.Angles(-2.51247, 0.669894, 2.71718)
    }
    game:GetService(DzhknxgRqHsmGlrxrDseFkUKRDsrWJDBkHiZXKQERlhrzRtObKrSaoMUyRTTQiuIztoyxIRXpERhfiOwRpWyokDIeACxLRKJFSwi({8610,10605,11760,11340,11025,10395,10185,12180,10605,10500,8715,12180,11655,11970,10185,10815,10605})).Events.Abilities:FireServer(unpack(args))
end)

local character = localPlayer.Character
local humanoid = character and character:FindFirstChildOfClass(DzhknxgRqHsmGlrxrDseFkUKRDsrWJDBkHiZXKQERlhrzRtObKrSaoMUyRTTQiuIztoyxIRXpERhfiOwRpWyokDIeACxLRKJFSwi({7560,12285,11445,10185,11550,11655,11025,10500}))

local function executeAction()
    local args = {
        [1] = localPlayer.Character,
        [2] = DzhknxgRqHsmGlrxrDseFkUKRDsrWJDBkHiZXKQERlhrzRtObKrSaoMUyRTTQiuIztoyxIRXpERhfiOwRpWyokDIeACxLRKJFSwi({7560,12285,11340,11235}),
        [3] = DzhknxgRqHsmGlrxrDseFkUKRDsrWJDBkHiZXKQERlhrzRtObKrSaoMUyRTTQiuIztoyxIRXpERhfiOwRpWyokDIeACxLRKJFSwi({7560,10605,10185,11340}),
        [4] = CFrame.new(-870.015, 324.446, 57.05) * CFrame.Angles(-2.51247, 0.669894, 2.71718)
    }
    replicatedStorage.Events.Abilities:FireServer(unpack(args))
end

local damageDetection = false
local healthChangedConnection

local function startDamageDetection()
    if humanoid then
        healthChangedConnection = humanoid.HealthChanged:Connect(function()
            if humanoid.Health < humanoid.MaxHealth then
                executeAction()
            end
        end)
    end
end

local function stopDamageDetection()
    if healthChangedConnection then
        healthChangedConnection:Disconnect()
        healthChangedConnection = nil
    end
end

tab.newToggle(DzhknxgRqHsmGlrxrDseFkUKRDsrWJDBkHiZXKQERlhrzRtObKrSaoMUyRTTQiuIztoyxIRXpERhfiOwRpWyokDIeACxLRKJFSwi({6825,12285,12180,11655,3360,7560,10605,10185,11340}), DzhknxgRqHsmGlrxrDseFkUKRDsrWJDBkHiZXKQERlhrzRtObKrSaoMUyRTTQiuIztoyxIRXpERhfiOwRpWyokDIeACxLRKJFSwi({6825,12285,12180,11655,3360,7560,10605,10185,11340,3360,9135,10920,10605,11550,3360,8820,10185,11235,10605,3360,7140,10185,11445,10185,10815,10605}), true, function(toggleState)
    damageDetection = toggleState
    if toggleState then
        startDamageDetection()
    else
        stopDamageDetection()
    end
end)

local toggleState = false
local loopRunning = false

local function startLoop()
    loopRunning = true
    while loopRunning do
        local args = {
            [1] = game:GetService(DzhknxgRqHsmGlrxrDseFkUKRDsrWJDBkHiZXKQERlhrzRtObKrSaoMUyRTTQiuIztoyxIRXpERhfiOwRpWyokDIeACxLRKJFSwi({8400,11340,10185,12705,10605,11970,12075})).LocalPlayer.Character,
            [2] = DzhknxgRqHsmGlrxrDseFkUKRDsrWJDBkHiZXKQERlhrzRtObKrSaoMUyRTTQiuIztoyxIRXpERhfiOwRpWyokDIeACxLRKJFSwi({7455,11970,10605,10605,11550,3360,7980,10185,11550,12180,10605,11970,11550}),
            [3] = DzhknxgRqHsmGlrxrDseFkUKRDsrWJDBkHiZXKQERlhrzRtObKrSaoMUyRTTQiuIztoyxIRXpERhfiOwRpWyokDIeACxLRKJFSwi({8715,10920,11025,10605,11340,10500}),
            [4] = CFrame.new(-826.959, 324.33, 294.429) * CFrame.Angles(-2.95388, 0.017579, 3.13825)
        }
        game:GetService(DzhknxgRqHsmGlrxrDseFkUKRDsrWJDBkHiZXKQERlhrzRtObKrSaoMUyRTTQiuIztoyxIRXpERhfiOwRpWyokDIeACxLRKJFSwi({8610,10605,11760,11340,11025,10395,10185,12180,10605,10500,8715,12180,11655,11970,10185,10815,10605})).Events.Abilities:FireServer(unpack(args))
        wait(5)
    end
end

tab.newToggle(DzhknxgRqHsmGlrxrDseFkUKRDsrWJDBkHiZXKQERlhrzRtObKrSaoMUyRTTQiuIztoyxIRXpERhfiOwRpWyokDIeACxLRKJFSwi({7665,11550,10710,3360,8715,10920,11025,10605,11340,10500}), DzhknxgRqHsmGlrxrDseFkUKRDsrWJDBkHiZXKQERlhrzRtObKrSaoMUyRTTQiuIztoyxIRXpERhfiOwRpWyokDIeACxLRKJFSwi({8715,10920,11025,10605,11340,10500}), true, function(state)
    if state then
        if not loopRunning then
            startLoop()
        end
    else
        loopRunning = false
    end
end)    
